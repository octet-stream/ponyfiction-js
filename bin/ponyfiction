#!/usr/bin/env node

'use strict';

const realpathSync = require('fs').realpathSync;

const help = () => {
  console.log(
    "\nponyFiction.js said: Unknown command.\n\n" +
    "Available commands:\n" +
    "  run   - start your ponyFiction.js app\n" +
    "  setup - run ponyFiction.js installer\n\n" +
    "Usage:\n" +
    "  ponyfiction <command>\n"
  );
};

var argv = process.argv.slice(2)[0];

/* jshint ignore:start */
argv || (argv = 'run');
/* jshint ignore:end */

if (argv === '--version' || argv === '-v') argv = 'version';

switch (argv) {
  case 'run':
    require(realpathSync(__dirname + '/../'));
    break;
  case 'setup':
    require(realpathSync(__dirname + '/../setup'));
    break;
  case 'version':
    console.log(
      `It's ponyFiction.js v${require('../package.json').version}`
    );
    break;
  default: help();
}
